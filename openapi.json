{"openapi":"3.1.0","info":{"title":"Sumrise Maths â€“ Grading API","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Health Root","operationId":"health_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/evaluate":{"post":{"tags":["marking"],"summary":"Evaluate","operationId":"evaluate_evaluate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mark":{"post":{"tags":["marking"],"summary":"Mark","operationId":"mark_mark_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mark-batch":{"post":{"tags":["marking"],"summary":"Mark Batch","operationId":"mark_batch_mark_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkBatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attempts/recent-list":{"get":{"tags":["attempts"],"summary":"Attempts Recent","operationId":"attempts_recent_attempts_recent_list_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/attempts/{attempt_id}":{"get":{"tags":["attempts"],"summary":"Get Attempt","operationId":"get_attempt_attempts__attempt_id__get","parameters":[{"name":"attempt_id","in":"path","required":true,"schema":{"type":"integer","title":"Attempt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttemptOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/reload":{"post":{"tags":["admin"],"summary":"Reload Questions","operationId":"reload_questions_admin_reload_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/db":{"get":{"tags":["health"],"summary":"Health Db","operationId":"health_db_health_db_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/migrations":{"get":{"tags":["health"],"summary":"Health Migrations","operationId":"health_migrations_health_migrations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/questions":{"get":{"tags":["questions"],"summary":"List Questions","operationId":"list_questions_questions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/QuestionOut"},"type":"array","title":"Response List Questions Questions Get"}}}}}}},"/questions/{qid}":{"get":{"tags":["questions"],"summary":"Get Question Detail","operationId":"get_question_detail_questions__qid__get","parameters":[{"name":"qid","in":"path","required":true,"schema":{"type":"string","title":"Qid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuestionOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AttemptOut":{"properties":{"id":{"type":"integer","title":"Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"total":{"type":"integer","title":"Total"},"correct":{"type":"integer","title":"Correct"},"duration_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Ms"},"items":{"anyOf":[{"items":{},"type":"array"},{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Items"}},"type":"object","required":["id","created_at","total","correct"],"title":"AttemptOut"},"EvaluateRequest":{"properties":{"expr":{"type":"string","title":"Expr"}},"type":"object","required":["expr"],"title":"EvaluateRequest"},"EvaluateResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Value"},"feedback":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback"}},"type":"object","required":["ok"],"title":"EvaluateResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MarkBatchItem":{"properties":{"id":{"type":"string","title":"Id"},"response":{"$ref":"#/components/schemas/MarkResponse"}},"type":"object","required":["id","response"],"title":"MarkBatchItem"},"MarkBatchRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/MarkRequest"},"type":"array","title":"Items"},"duration_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Ms"}},"type":"object","required":["items"],"title":"MarkBatchRequest"},"MarkBatchResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"total":{"type":"integer","title":"Total"},"correct":{"type":"integer","title":"Correct"},"results":{"items":{"$ref":"#/components/schemas/MarkBatchItem"},"type":"array","title":"Results"},"attempt_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Attempt Id"},"duration_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Ms"}},"type":"object","required":["ok","total","correct","results"],"title":"MarkBatchResponse"},"MarkRequest":{"properties":{"id":{"type":"string","title":"Id"},"answer":{"type":"string","title":"Answer"}},"type":"object","required":["id","answer"],"title":"MarkRequest"},"MarkResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"correct":{"type":"boolean","title":"Correct"},"score":{"type":"integer","title":"Score"},"feedback":{"type":"string","title":"Feedback"},"expected":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expected"},"expected_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expected Str"}},"type":"object","required":["ok","correct","score","feedback"],"title":"MarkResponse"},"QuestionOut":{"properties":{"id":{"type":"string","title":"Id"},"topic":{"type":"string","title":"Topic"},"prompt":{"type":"string","title":"Prompt"},"type":{"type":"string","title":"Type"}},"type":"object","required":["id","topic","prompt","type"],"title":"QuestionOut"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}